<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="A collection of ideas through art: Music that can speak to your soul, Poems and short stories that vault you into imagination, and Websites that outshine the competition. Knowledge is retrospective, so how can we account now for what we will create?">
    <meta name="author" content="Cuore Boiko">
    <meta property="og:url" content="http://didntrealize.com/" />
    <meta property="og:image" content="http://didntrealize.com/images/logoIcon.png" />
    <meta property="og:title" content="I Did I Didn't Realize" />
    <meta property="og:description"
        content="A collection of ideas through art: Music that can speak to your soul, Poems and short stories that vault you into imagination, and Websites that outshine the competition. Knowledge is retrospective, so how can we account now for what we will create?" />

    <link rel="icon" href="http://didntrealize.com/images/logoIcon.png">

    <title>I Didn't Realize</title>


    <style type="text/css">
        #page-container {
            /*
		background: url('norobots/capture.png');
		background-position: bottom center;
		background-repeat:no-repeat;
		*/
            max-width: 1185px;
            height: 330px;
        }

        p,
        .container {
            text-align: center;
        }

        p {
            padding-top: 8px;
            line-height: 1.3;
            font-family: sans-serif;
        }
        
        canvas{
            position: absolute;
            top:0;
            left:0;
            background: url(norobots/theview.jpg);
            background-position: center;
            z-index: -10;
        }
        .canvas-cover{
            background: white;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 1;
            z-index: -1;
            width: 100%;
            height: 100%;
        }
        .snow-buildup{
            background: rgb(255,255,255);
            background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 31%);
            position: absolute;
            bottom: 0;
            left: 0;
            opacity: 1;
            z-index: -1;
            width: 100%;
            height: 20%;
        }

        #page-container {
            padding-top: 120px;
            overflow: visible;
            background: url(http://didntrealize.com/images/flow-my-tears-tagline.png);
            background-repeat: no-repeat;

        }

        #curiousStrangerDiv {
            background: rgba(255, 255, 255, .7);
            display: inline-block;
            padding: 10px;
        }

        .the-link {
            text-align: center;
            z-index: 1000;
            display: flex;
        }

        .the-link:visited {
            color: black;
        }

        .the-link span {
            transition: 1s ease-in-out padding,
                .4s ease-out opacity;
            opacity: 1;
            padding: 1px;
            /*
			
			transform: rotate(-7deg); 
			-webkit-transform: rotate(-7deg); 
			-moz-transform: rotate(-7deg); 
			*/

        }




    </style>




</head>

<body>
    <canvas id="canvas"></canvas>
    <div class="canvas-cover"></div>
    <div class="snow-buildup"></div>

    <div id="page-container" class="container" style="max-width:100%;width:460px;margin:0 auto;">

        <div id="curiousStrangerDiv">
            <h3 class="text-center">Curious Stranger</h3>

            <p class="poetryParagraph">

                Jumping on the Crunchies<br />
                And crushing where I step,<br />
                Absorbed in each breath.<br />
                <br />
                Where fall leaves stale,<br />
                I plant these stomps.<br />
                Going nowhere,<br />
                In particular.<br />
                <br />
                <br />
                Then I saw you<br />
                Stepping on the Crunchies too,<br />
                Consumed, simple, and true.<br />
                With all of you.<br />
                <br />
                Stay playful, Stranger, curious.<br />
                There's enough crunch<br />
                For the both of us.


            </p>
            <a id="foot" class="the-link" style="font-size:26px;padding:20px 0px;" href="#"
                onclick="return crunch();//entranceGate();">Step on the Crunchies</a>
            <!--href="http://didntrealize.com?comehereoften"-->

        </div>




    </div>



</body>
<footer>

    
    <script type="text/javascript">

        var snowBuildup;
        var canvasBackground = document.querySelector('.canvas-cover');
        
        (function() {
            //animate in the canvas background and the snow
                snowBuildup = setInterval(function () {
                    if (!canvasBackground.style.opacity) {
                        canvasBackground.style.opacity = 1;
                    }
                    if(canvasBackground.style.opacity >= .5){
                        canvasBackground.style.opacity -= .025;
                    } else {
                        clearInterval(snowBuildup);
                    }
                }, 2700);   
        })();

        //read cookies looking for mine
        //var cookieJar = (document.cookie.match(/^(?:.*;)?\s*ComeHereOften\s*=\s*([^;]+)(?:.*)?$/)||[,null])[1];
        var cookieJar = (document.cookie.match(/^(?:.*;)?\s*BeenThereDoneThat\s*=\s*([^;]+)(?:.*)?$/) || [, null])[1];
        var cookies = -1;

        if (cookieJar === null) {
            //first time (: ?
            console.log('reload the site, reveal the poem');
            //allow passage to main poetry site on next visit.
            function insertCookie(jar, cookie) {
                var expires = "";
                var date = new Date();
                date.setTime(date.getTime() + (24 * 60 * 60 * 1000));
                expires = "; expires=" + date.toUTCString();

                var bakedCookie = jar + "=" + cookie + expires + "; path=/;";
                document.cookie = bakedCookie;
            }
            insertCookie("BeenThereDoneThat", "0");
            setTimeout(function () {
                //window.location = "http://didntrealize.com";
                console.log('would have redirected');
            }, 314);

        }


        var haystack = "A pearl among straws";
        haystack = "OK?";
        var hasty = true,
            patient = false;

        //all good things come to those that wait
        setTimeout(function () {
            hasty = false;
            setTimeout(function () {
                //entranceGate();
                patient = true;
            }, 3 * 60 * 1000);
        }, 10000);


        var crunchCount = 0;
        var leaves = document.getElementById('foot');

        //allow for random variations in subtle things
        function randomBetween(min, max) {
            var res = Math.floor(Math.random() * max) + min; // this will get a number between min and max;

            return res;
        }

        function moreOrLess(maximum) {
            maximum *= Math.floor(Math.random() * 2) == 1 ? 1 : -1; // this will add minus sign in 50% of cases

            return maximum;
        }

        function crunch() {

            crunchCount++;
            //crunch up the link
            console.log(crunchCount);



            //on 1 - make brown, jitter slightly
            if (crunchCount == 1) {
                leaves.style.textDecoration = "none";
                leaves.style.color = "#9f6442";


                var fallen = leaves.innerHTML;
                leaves.innerHTML = "";
                //split every letter into a span

                for (leaf of fallen) {
                    var branch = document.createElement('span');
                    branch.innerHTML = leaf;

                    //ruffle them feathers
                    let entropy = moreOrLess(randomBetween(0, 2));
                    //animate css prop of each +-2deg
                    branch.style.transform = "rotate(" + entropy + "deg)";

                    //console.log(branch);
                    document.getElementById('foot').appendChild(branch);
                }

            }



            //on 3 - rotate letters randomly in small variance
            if (crunchCount == 2) {

                var fallenLeaves = document.getElementById('foot').getElementsByTagName('SPAN');
                //split every letter into a span

                for (leaf of fallenLeaves) {

                    //ruffle them feathers
                    let disarray = moreOrLess(randomBetween(0, 6));
                    //animate css prop of each +-7deg
                    leaf.style.transform = "rotate(" + disarray + "deg)";

                    console.log(leaf);
                }

                // document.getElementById('foot').innerHTML = "";
                // 	document.getElementById('foot').appendChild(branch);
            }


            //on 4 - start disappearing letters and rotate again
            if (crunchCount >= 3) {
                var fallenLeaves = document.getElementById('foot').getElementsByTagName('SPAN');

                for (leaf of fallenLeaves) {

                    //for letter, repeat animate +-7deg
                    //ruffle them feathers
                    let entropy = moreOrLess(randomBetween(0, 10));
                    //animate css prop of each +-7deg
                    leaf.style.transform = "rotate(" + entropy + "deg)";


                    //for letter, animate opacity from .5-.8
                    var degradation = randomBetween(5, 6);
                    //fade it a bit, it's getting stept on
                    leaf.style.opacity = "." + degradation;
                }


            }
            //on 5 - replace text with CRUNCH
            if (crunchCount >= 3) {

                entranceGate();

            }


            return false;
        }

        function entranceGate() {
            var whereToNext;
            var theFilePath = "http://didntrealize.com/",
                whatDocIsNowCalled = "index",
                andItHasThisExtension = ".html",
                soTheLinkIs = theFilePath + whatDocIsNowCalled + andItHasThisExtension;


            if (!hasty) {

                //release tension of link into crunch
                var crunch = document.createElement('span');
                var satisfaction = "CRRUUNNNCHH";
                satisfaction = satisfaction.split("");

                for (letter of satisfaction) {
                    var node = document.createElement('span');
                    node.innerHTML = letter;

                    let entropy = randomBetween(18, 32);
                    node.style.fontSize = entropy + "px";

                    crunch.appendChild(node);
                }
                //slap the new text and size
                document.getElementById('foot').innerHTML = "";
                document.getElementById('foot').appendChild(crunch);


                setTimeout(function () {
                    theFilePath = "norobots/"
                    whatDocIsNowCalled = "indextorslab";
                    soTheLinkIs = theFilePath + whatDocIsNowCalled + andItHasThisExtension;

                    var whereToNext = soTheLinkIs;
                    window.location = whereToNext;
                }, 3150);


            }
            if (!hasty && patient) {
                //set cookie to disallow access and instruct how to surpass that cookie
                //or ya know, just, like, do this kinda thing or something..
                theFilePath = "norobots/"
                whatDocIsNowCalled = "allowed";
                soTheLinkIs = theFilePath + whatDocIsNowCalled + andItHasThisExtension;

                var whereToNext = soTheLinkIs;
                window.location = whereToNext;

            }

        }

       
    </script>

<script>
(function() {
    var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame ||
    function(callback) {
        window.setTimeout(callback, 1000 / 60);
    };
    window.requestAnimationFrame = requestAnimationFrame;
})();


var flakes = [],
    canvas = document.getElementById("canvas"),
    ctx = canvas.getContext("2d"),
    flakeCount = 400,
    mX = -100,
    mY = -100

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

function snow() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    for (var i = 0; i < flakeCount; i++) {
        var flake = flakes[i],
            x = mX,
            y = mY,
            minDist = 150,
            x2 = flake.x,
            y2 = flake.y;

        var dist = Math.sqrt((x2 - x) * (x2 - x) + (y2 - y) * (y2 - y)),
            dx = x2 - x,
            dy = y2 - y;

        if (dist < minDist) {
            var force = minDist / (dist * dist),
                xcomp = (x - x2) / dist,
                ycomp = (y - y2) / dist,
                deltaV = force / 2;

            flake.velX -= deltaV * xcomp;
            flake.velY -= deltaV * ycomp;

        } else {
            flake.velX *= .98;
            if (flake.velY <= flake.speed) {
                flake.velY = flake.speed
            }
            flake.velX += Math.cos(flake.step += .05) * flake.stepSize;
        }

        ctx.fillStyle = "rgba(255,255,255," + flake.opacity + ")";
        flake.y += flake.velY;
        flake.x += flake.velX;
            
        if (flake.y >= canvas.height || flake.y <= 0) {
            reset(flake);
        }


        if (flake.x >= canvas.width || flake.x <= 0) {
            reset(flake);
        }

        ctx.beginPath();
        ctx.arc(flake.x, flake.y, flake.size, 0, Math.PI * 2);
        ctx.fill();
    }
    requestAnimationFrame(snow);
};

function reset(flake) {
    flake.x = Math.floor(Math.random() * canvas.width);
    flake.y = 0;
    flake.size = (Math.random() * 3) + 2;
    flake.speed = (Math.random() * 1) + 0.5;
    flake.velY = flake.speed;
    flake.velX = 0;
    flake.opacity = (Math.random() * 0.5) + 0.3;
}

function init() {
    for (var i = 0; i < flakeCount; i++) {
        var x = Math.floor(Math.random() * canvas.width),
            y = Math.floor(Math.random() * canvas.height),
            size = (Math.random() * 3) + 2,
            speed = (Math.random() * 1) + 0.5,
            opacity = (Math.random() * 0.5) + 0.3;

        flakes.push({
            speed: speed,
            velY: speed,
            velX: 0,
            x: x,
            y: y,
            size: size,
            stepSize: (Math.random()) / 30,
            step: 0,
            opacity: opacity
        });
    }

    snow();
};

canvas.addEventListener("mousemove", function(e) {
    mX = e.clientX,
    mY = e.clientY
});

window.addEventListener("resize",function(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
})

init();
</script>
    <!--
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		
		<script type="text/javascript">
		
			var inPosition = ($(document).width() - $(".container").width())/2;
			
			
			var needle = document.getElementById("foot");
			console.log(needle);
			var needleWidth = needle.offsetWidth, 
				needleHeight = needle.offsetHeight; 
				
				var posx = (Math.random() * ($(".container").width() - needleWidth)).toFixed(); 
				var posy = (Math.random() * ($(document).height() - needleHeight)).toFixed();	
					
				//wheres that needle again?
			//alert(parseInt(inPosition) + parseInt(posx) + 'px');
			needle.style.left = parseInt(inPosition) + parseInt(posx) + 'px';
			needle.style.top =  posy + 'px';
	
		//and what's it look like again?
		var a = Math.random() * 120 - 60;
		
		setInterval(function(){
			
			var a = Math.random() * 120 - 60;
			$(needle).css('transform', 'rotate(' + a + 'deg) scale(1.25)');

		}, 3000);
		
		
		function getRandomArbitrary(min, max) {
			return Math.random() * (max - min) + min;
		}
		</script>

	-->

</footer>

</html>